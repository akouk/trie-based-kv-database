# trie-based-kv-database
Trie-Based Key-Value Store for Distributed, Fault-Tolerant Database


## Data Generation Program
The data generation program is used to generate random data in the form of key-value pairs that can be stored in a key value store.

### Parameters
- "-k": a file containing a space-separated list of key names and their data types that can be used to generate tha data
- "-n": the number of data items to generate
- "-d": the maximum depth of nesting for the key-value pairs
- "-l": the maximum length of string values
- "-m": the maximum number of keys per nesting level

### Usage
To use the program, run the following command line
'python3 dataCration.py -k keyFile.txt -n 1000 -d 3 -l 4 -m 5'

### Data Format
The generated data is in the form of key-value pairs, where the value can contain additional key-value pairs nested to a certain depth. The values can be integers, floats, strings, or sets of key-value pairs. The top-level keys can be either random strings or keys in the form "key1", "key2", etc.

Note: The data generated by the program may not make sense and is intended for testing and development purposes only.



# Key-Value Database Program
The key-value database project consists of two programs: a Key-Value client and a Key-Value server. The Key-Value client is responsible for accepting queries from the user and forwarding them to the Key-Value servers, collecting the results and presenting them to the user. The Key-Value servers are responsible for storing the actual data and handling queries from the client.

## Key-Value Client
To start the Key-Value client, use the following command:
python3 kvClient.py -s serverFile.txt -i dataToIndex.txt -k 2

Where:
- "serverFile.txt" is a space separated list of servers IPs and their respective ports that will be listening for queries and indexing commands
- "dataToIndex.txt" is a file containg data
- "k" is the replication factor, i.e. how many different servers will have the same replicated data

Once the Ley-Value client starts, it connects to all the servers and sends requests to store tha data from "dataToIndex.txt". If everything is successful, the servers will respond with "OK", or "ERROR" if there was a problem.

After the indexing process is complete, the Key-Value client can accept the following commands:
- "GET key": queries all servers for the data with the given key, and prints the results if found
- "DELETE key": deletes the specified key. This command needs to be forwarded to all the servers. If any server is down, delete cannot be reliably executed.
- "QUERY keypath": similar to "GET", but returns the value of a subkey within a value
- "COMPUTE : 
-
The Key-Value clients will continue to work unless k servers are down. If k or more servers are down, the client will output a warning indicating it cannot guarantee the correct output.



